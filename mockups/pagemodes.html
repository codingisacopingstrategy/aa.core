<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>Page Title</title>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.10/jquery-ui.min.js" type="text/javascript"></script>
<!--<script type="text/javascript" language="javascript" charset="utf-8" src="jquery.collagecode.js"></script>-->
<style type="text/css" media="screen">
    ul, li {
        list-style: none;
    }
    input[type=checkbox] {
        float: left;
    }
    .positionable {
        border: 1px solid black;
        padding: 5;
    }
    .moveable {
        position: absolute;
    }
    .tiled {
        position: static;
    }
    .print {
        position: static;
    }
    .infront {
        z-index: 10;
    }
    .behind {
        z-index: 0;
    }
</style>

<script type="text/javascript" language="javascript" charset="utf-8">
    $(document).ready(function(){
        // GENERATES TABLE OF CONTENT
        $(".positionable h1").each(function(){
            $(this).parent().attr("id",$(this).text());
            $("ul#TOC").append("<input type='checkbox' checked='checked' rel='#" + $(this).text() + "' /><li>" + $(this).text() + "</li>")
        });
        // SHOW/HIDE BOXES
        $("#TOC input:checkbox").click(function(){
            id = $(this).attr("rel");
            if($(this).is(":checked")){
                $(id).show();
            } else {
                $(id).hide();
            }
        });
        // FREE LAYOUT
        $("#free").click(function () {
            $(".positionable").removeClass("tiled, print");
            $(".positionable").addClass("moveable");
            $('.moveable').draggable({
                start: function(event, ui) {
                    $('.infront').removeClass('infront').addClass('behind');
                    $(this).addClass('infront').removeClass("behind");
                },
                handle: 'h1', 
            });
        });
        // DOCUMENT/PRINT LAYOUT
        $("#document").click(function () {
            $(".positionable").removeClass("tiled, moveable");
            $(".positionable").addClass("print");
        });
        // TILED LAYOUT
        $("#tile").click(function () {
            $(".positionable").removeClass("print, moveable");
            $(".positionable").addClass("tiled");
        });
    });
    // tiling...
    // random
    // automatic table of contents
    // layer visibility clicking...

</script>

</head>
<body id="ID" onload="">

<div id="layout-controls">
    <button id ="free">free</button>
    <button id ="document">document</button>
    <button id ="tile">tile</button>
</div>

<ul id="TOC">
</ul>

<div class="positionable" style="top: 250px; left: 100px">
    <h1>Context</h1>
    <h2>Livres de Chevet</h2>
</div>

<div class="positionable" style="top: 400px; left: 300px">
    <h1>Preface</h1>
    Nightstand books includ HTML5.
    <span property="aa:start">00:04,565</span>
    <span property="aa:end">00:05,565</span>
</div>

<div class="positionable" style="top: 50px; left: 500px">
    <h1>Quotes</h1>
    More stuff
    <span property="aa:start">00:04,565</span>
    <span property="aa:end">00:05,565</span>
</div>

</body>
</html>
